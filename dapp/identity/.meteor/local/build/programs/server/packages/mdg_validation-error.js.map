{"version":3,"sources":["meteor://ðŸ’»app/packages/mdg:validation-error/validation-error.js"],"names":["errorSchema","SimpleSchema","name","type","String","details","Object","blackbox","optional","errorsSchema","errors","Array","ValidationError","Meteor","Error","constructor","message","validate","ERROR_CODE"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;AAEA;AACA,MAAMA,WAAW,GAAG,IAAIC,YAAJ,CAAiB;AACnCC,MAAI,EAAE;AAACC,QAAI,EAAEC;AAAP,GAD6B;AAEnCD,MAAI,EAAE;AAACA,QAAI,EAAEC;AAAP,GAF6B;AAGnCC,SAAO,EAAE;AAACF,QAAI,EAAEG,MAAP;AAAeC,YAAQ,EAAE,IAAzB;AAA+BC,YAAQ,EAAE;AAAzC;AAH0B,CAAjB,CAApB;AAMA,MAAMC,YAAY,GAAG,IAAIR,YAAJ,CAAiB;AACpCS,QAAM,EAAE;AAACP,QAAI,EAAEQ;AAAP,GAD4B;AAEpC,cAAY;AAACR,QAAI,EAAEH;AAAP;AAFwB,CAAjB,CAArB;AAKAY,eAAe,GAAG,cAAcC,MAAM,CAACC,KAArB,CAA2B;AAC3CC,aAAW,CAACL,MAAD,EAASM,OAAO,GAAG,mBAAnB,EAAwC;AACjDP,gBAAY,CAACQ,QAAb,CAAsB;AAACP;AAAD,KAAtB;AAEA,UAAME,eAAe,CAACM,UAAtB,EAAkCF,OAAlC,EAA2CN,MAA3C;AAEA,SAAKA,MAAL,GAAcA,MAAd;AACD;;AAP0C,CAA7C,C,CAUA;AACA;;AACAE,eAAe,CAACM,UAAhB,GAA6B,kBAA7B,C","file":"/packages/mdg_validation-error.js","sourcesContent":["/* global ValidationError:true */\n/* global SimpleSchema */\n\n// This is exactly what comes out of SS.\nconst errorSchema = new SimpleSchema({\n  name: {type: String},\n  type: {type: String},\n  details: {type: Object, blackbox: true, optional: true}\n});\n\nconst errorsSchema = new SimpleSchema({\n  errors: {type: Array},\n  'errors.$': {type: errorSchema}\n});\n\nValidationError = class extends Meteor.Error {\n  constructor(errors, message = 'Validation Failed') {\n    errorsSchema.validate({errors});\n\n    super(ValidationError.ERROR_CODE, message, errors);\n\n    this.errors = errors;\n  }\n};\n\n// If people use this to check for the error code, we can change it\n// in future versions\nValidationError.ERROR_CODE = 'validation-error';\n"]}